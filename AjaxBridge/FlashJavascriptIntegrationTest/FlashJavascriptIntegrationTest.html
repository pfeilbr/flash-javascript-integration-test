<!-- This file is just a basic wrapper for your bridged, Ajax/Flex, application.

	 This file will NOT be overwritten once it has been generated, therefor it
	 is perfectly safe to customize it to fit your needs.
	 
	 If you need to have this file re-generated, please delete it. -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>Test page for the FlashJavascriptIntegrationTest class</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="lib/FABridge.js"></script>
	
<script type="text/javascript">
function FlashJavascriptIntegrationTestReady() {
	logCurrentTimeFromJavaScript();
}

function logCurrentTime(msg) {
	var el = FABridge["b_FlashJavascriptIntegrationTest"].root();
	el.actionScriptFunction((new Date()).toString() + ': '+ msg + ' call' );
}

function logCurrentTimeFromJavaScript() {
	logCurrentTime('javascript -> as3');
	setTimeout(	logCurrentTimeFromJavaScript, 5000 );
}

function logCurrentTimeFromAS3() {
	logCurrentTime('as3 -> javascript');
}


$(function() {
	FABridge.addInitializationCallback("b_FlashJavascriptIntegrationTest", FlashJavascriptIntegrationTestReady);
});
</script>	
	
	
</head>

<body>

<h1>Flash JavaScript Integration Test</h1>

<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
id="FlashJavascriptIntegrationTestTest" width="700" height="600"
codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab">
	<param name="movie" value="../../bin-debug/FlashJavascriptIntegrationTest.swf" />
	<param name="flashvars" value="bridgeName=b_FlashJavascriptIntegrationTest"/>
	<param name="quality" value="high" />
	<param name="allowScriptAccess" value="always" />
	<embed src="../../bin-debug/FlashJavascriptIntegrationTest.swf" quality="high"
		width="700" height="600" name="FlashJavascriptIntegrationTestTest" 
		align="middle"
		play="true"
		loop="false"
		quality="high"
		allowScriptAccess="always"
		type="application/x-shockwave-flash"
		pluginspage="http://www.adobe.com/go/getflashplayer" 
		flashvars="bridgeName=b_FlashJavascriptIntegrationTest">
	</embed>
</object>

</body>

</html>